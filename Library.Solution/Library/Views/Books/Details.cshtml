@{
  Layout = "_Layout";
}

@using Library.Models
@model Library.Models.Book

<h2>Item Details</h2>
<hr />
<h3>@Html.DisplayNameFor(model => model.Name): @Html.DisplayFor(model => model.Name)</h3>

@if(@Model.Authors.Count == 0)
{
  <p>This Book does not belong to any Authors</p>
}
else
{
  <h4>Authors the Book belongs to:</h4>
  <ul>

    <ul>
    @foreach(var join in Model.Authors)
    {
      <li>@join.Author.Name</li>
      @using (Html.BeginForm("DeleteAuthor", "Books"))
      {
        @Html.Hidden("joinId", @join.BookAuthorId)
        <input type="submit" value="Delete"/>
      }
    }
    </ul>
  </ul>
}

@foreach(Checkout checkout in Model.CheckoutHistory)
{
  <li>@checkout.DateIn // @checkout.DateDue // Active: @checkout.Active // Overdue: @checkout.OverDue() </li>
}

<p>@Html.ActionLink("Edit Book", "Edit", new { id = Model.BookId })</p>
<p>@Html.ActionLink("Delete Book", "Delete", new { id = Model.BookId })</p>
<p>@Html.ActionLink("Add an Author", "AddAuthor", new { id = Model.BookId })</p>
